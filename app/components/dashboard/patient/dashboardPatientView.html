<div class="container-fluid">

  <div ng-include="'app/shared/leftMenu/leftMenuView.html'"></div>
  
  
  <!-- DASHBOARD CONTENT -->
  <div class="dashboard-content" role="main">
    <div class="container-fluid">

      <div class="row">
          <div class="col-md-6">
              <table class="table table-hover">
                <h2>Osebni podatki</h2>
                <tr>
                  <th>ZZZS številka</td>
                  <td>{{profile.HealthInsuranceNumber}}</td>
                </tr>
                <tr>
                  <th>Ime</td>
                  <td>{{profile.FirstName}}</td>
                </tr>
                <tr>
                  <th>Priimek</td>
                  <td>{{profile.LastName}}</td>
                </tr>
                <tr>
                  <th>Naslov</td>
                  <td>{{profile.Address}}</td>
                </tr>
                <tr>
                  <th>Poštna številka</td>
                  <td>{{profile.PostNumber}}</td>
                </tr>
                <tr>
                  <th>Telefon</td>
                  <td>{{profile.Telephone}}</td>
                </tr>
                <tr>
                  <th>Datum rojstva</td>  
                  <td>{{profile.BirthDate}}</td>
                </tr>
                <tr>
                  <th>Spol</td>
                  <td>{{profile.Gender}}</td>
                </tr>                
              </table>
          </div>
          <div class="col-md-6">
              <table class="table table-hover">
                <h2>Podatki kontaktne osebe</h2>
                <tr>
                  <th>Ime</td>
                  <td>{{profile.ContactFirstName}}</td>
                </tr>
                <tr>
                  <th>Priimek</td>
                  <td>{{profile.ContactLastName}}</td>
                </tr>
                <tr>
                  <th>Naslov</td>
                  <td>{{profile.ContactAddress}}</td>
                </tr>
                <tr>
                  <th>Pošta</td>
                  <td>{{profile.ContactPostNumber}}</td>
                </tr>
                <tr>
                  <th>Telefon</td>
                  <td>{{profile.ContactTelephone}}</td>
                </tr>
                <tr>
                  <th>Družinska relacija</td>
                  <td>{{profile.ContactFamilyRelationship}}</td>
                </tr>             
              </table>
          </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <table class="table table-hover" ng-if="profile.PersonalDoctor!=null">
            <h2>Osebni zdravnik</h2>
            <p ng-if="profile.PersonalDoctor==null">Pacient še nima izbranega osebnega zdravnika!</p>
            <tr>
              <th>Ime</th>
              <td>{{profile.PersonalDoctor.FirstName}}</td>
            </tr>
            <tr>
              <th>Priimek</th>
              <td>{{profile.PersonalDoctor.LastName}}</td>
            </tr>
            <tr>
              <th>Telefon</th>
              <td>{{profile.PersonalDoctor.Telephone}}</td>
            </tr>
          </table>
        </div>
          <div class="col-md-6">
          <table class="table table-hover" ng-if="profile.DentistDoctor!=null">
            <h2>Zobozdravnik</h2>
            <p ng-if="profile.DentistDoctor==null">Pacient še nima izbranega zobozdravnika!</p>
            <tr>
              <tr>
              <th>Ime</th>
              <td>{{profile.DentistDoctor.FirstName}}</td>
            </tr>
            <tr>
              <th>Priimek</th>
              <td>{{profile.DentistDoctor.LastName}}</td>
            </tr>
            <tr>
              <th>Telefon</th>
              <td>{{profile.DentistDoctor.Telephone}}</td>
            </tr>
          </table>
        </div>
      </div>

        <div class="row">
            <div class="col-md-6">
                <table class="table table-hover" ng-if="oldObservations.length != 0">
                    <h2>Opravljeni pregledi</h2>
                    <p ng-if="oldObservations.length == 0">Pacient še ni bil pri zdravniku!</p>
                    <thead>
                    <th>Datum</th>
                    <th>Zdravnik</th>
                    <th class="text-right">
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open" title="Več podatkov" tooltip ng-click="openOldObservations()" ng-hide="oldObservations.opened"></button>
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" title="Manj podatkov" tooltip ng-click="closeOldObservations()" ng-show="oldObservations.opened"></button>
                    </th>
                    </thead>
                    <tr id="{{oldObservations.Name}}" style="cursor:pointer;" ng-repeat="obs in oldObservations" ng-click="showObservationDetails($index)">
                        <td>{{obs.ObservationTime | date:'d.M.yyyy H:mm'}}</td>
                        <td>{{obs.DoctorName}}</td>
                    </tr>
                </table>
            </div>
            <div class="col-md-6">
                <table class="table table-hover" ng-if="false">
                    <h2>Prihajajoči pregledi</h2>
                    <p>Pacient nima prihajajočih pregledov!</p>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <table class="table table-hover" ng-if="alergy.length != 0">
                    <h2>Alergije</h2>
                    <p ng-if="alergy.length == 0">Pacient še nima zaznanih alergij!</p>
                    <thead>
                        <th>Ime</th>
                        <th class="text-right">
                            <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open" title="Več podatkov" tooltip ng-click="openAlergy()" ng-hide="alergy.opened"></button>
                            <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" title="Manj podatkov" tooltip ng-click="closeAlergy()" ng-show="alergy.opened"></button>
                        </th>
                    </thead>
                    <tr id="{{alergy.Name}}" ng-repeat="alg in alergy">
                        <td>{{alg.Name}}</td>
                    </tr>
                </table>
            </div>
            <div class="col-md-6">
                <table class="table table-hover" ng-if="diseases.length != 0">
                    <h2>Bolezni</h2>
                    <p ng-if="diseases.length == 0">Pacient še ni imel bolezni!</p>
                    <thead>
                    <th>Datum vnosa</th>
                    <th>Ime</th>
                    <th>Vnesel</th>
                    <th class="text-right">
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open" title="Več podatkov" tooltip  ng-click="openDiseases()" ng-hide="diseases.opened"></button>
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" title="Manj podatkov" tooltip ng-click="closeDiseases()" ng-show="diseases.opened"></button>
                    </th>
                    </thead>
                    <tr id="{{diseases.DiseaseName}}" ng-repeat="dis in diseases">
                        <td>{{dis.ObservationTime | date:'d.M.yyyy H:mm' }}</td>
                        <td>{{dis.DiseaseName}}</td>
                        <td>{{dis.DoctorName}}</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <table class="table table-hover" ng-if="diets.length != 0">
                    <h2>Diete</h2>
                    <p ng-if="diets.length == 0">Pacient še nima predpisane diete!</p>
                    <thead>
                    <th>Datum vnosa</th>
                    <th>Ime</th>
                    <th>Navodila</th>
                    <th>Vnesel</th>
                    <th class="text-right">
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open" title="Več podatkov" tooltip ng-click="openDiets()" ng-hide="diets.opened"></button>
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" title="Manj podatkov" tooltip ng-click="closeDiets()" ng-show="diets.opened"></button>
                    </th>
                    </thead>
                    <tr id="{{diets.DietName}}" ng-repeat="diet in diets">
                        <td>{{diet.ObservationTime | date:'d.M.yyyy H:mm'}}</td>
                        <td>{{diet.DietName}}</td>
                        <td><p ng-repeat="dietUrl in diet.DietUrl"><a href="{{dietUrl.Url}}">Povezava do navodil {{$index+1}}</a></p></td>
                        <td>{{diet.DoctorName}}</td>
                    </tr>
                </table>
            </div>

            <div class="col-md-6">
                <table class="table table-hover" ng-if="medications.length != 0">
                    <h2>Zdravila</h2>
                    <p ng-if="medications.length == 0">Pacient še nima predpisanih zdravil!</p>
                    <thead>
                    <th>Datum vnosa</th>
                    <th>Ime</th>
                    <th>Navodila</th>
                    <th>Vnesel</th>
                    <th class="text-right">
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open" title="Več podatkov" tooltip ng-click="openMedications()" ng-hide="medications.opened"></button>
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" title="Manj podatkov" tooltip ng-click="closeMedications()" ng-show="medications.opened"></button>
                    </th>
                    </thead>
                    <tr id="{{medications.DietName}}" ng-repeat="medication in medications">
                        <td>{{medication.ObservationTime | date:'d.M.yyyy H:mm'}}</td>
                        <td>{{medication.MedicationName}}</td>
                        <td><a href="{{medication.MedicationUrl}}">Povezava do navodil </a></td>
                        <td>{{medication.DoctorName}}</td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <table class="table table-hover" ng-if="measurements.length != 0">
                    <h2>Meritve</h2>
                    <p ng-if="measurements.length == 0">Pacient še nima meritev!</p>
                    <thead>
                    <th>Datum vnosa</th>
                    <th>Ime</th>
                    <th>Izmerjeno</th>
                    <th>Vnesel</th>
                    <th class="text-right">
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open"  title="Več podatkov" tooltip ng-click="openMeasurements()" ng-hide="measurements.opened"></button>
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" title="Manj podatkov" tooltip ng-click="closeMeasurements()" ng-show="measurements.opened"></button>
                    </th>
                    </thead>
                    <tr id="measurement.MeasurementTime" ng-repeat="measurement in measurements">
                        <td>{{measurement.MeasurementTime | date:'d.M.yyyy H:mm'}}</td>
                        <td>{{measurement.MeasurementPartName}}</td>
                        <td>{{measurement.Value + measurement.MeasurementUnit}}</td>
                        <td>{{measurement.DoctorName}}</td>
                    </tr>
                </table>
            </div>
            
            <!--#22 - meritve, ki jih pacient opravi sam/doma -->
            <div class="col-md-6">
                <h2>Moje meritve</h2>
                <p ng-if="patientProfileMeasurements.Data.length == 0">Pacient še ni opravil lastnih meritev!</p>
                    
                <table ng-if="patientProfileMeasurements.Data.length > 0" class="table table-hover" ng-if="patientProfileMeasurements.length != 0">
                    <thead>
                    <th>Datum vnosa</th>
                    <th>Ime</th>
                    <th>Izmerjeno</th>
                    <th class="text-right">
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-open" ng-click="togglePatientProfileMeasurements()" ng-hide="patientProfileMeasurements.isExpanded"></button>
                        <button class="btn btn-xs btn-default glyphicon glyphicon-eye-close" ng-click="togglePatientProfileMeasurements()" ng-show="patientProfileMeasurements.isExpanded"></button>
                    </th>
                    </thead>
                    <tr id="measurement.MeasurementTime" style="cursor:pointer;"  ng-click="showPatientProfileMeasurementDetails(measurement)" ng-repeat="measurement in patientProfileMeasurements.Data | orderBy: '-MeasurementTime' | limitTo: patientProfileMeasurements.limit">
                        <td>{{measurement.MeasurementTime | date:'d.M.yyyy H:mm'}}</td>
                        <td>{{measurement.MeasurementPart.MeasurementPartName}}</td>
                        <td>{{measurement.Value + measurement.MeasurementPart.MeasurementUnit}}</td>
                    </tr>
                </table>
            </div>
        </div>
        
        
<!--
      <div class="row">
          <div class="col-md-6">
            <img class="img-responsive" src="http://placehold.it/500x300">
          </div>
          <div class="col-md-6">
            <img class="img-responsive" src="http://placehold.it/500x300">
          </div>
      </div>
      
      
      <div class="row">
          <div class="col-md-4">
            <img class="img-responsive" src="http://placehold.it/320x300">
          </div>
          <div class="col-md-4">
            <img class="img-responsive" src="http://placehold.it/320x300">
          </div>
          <div class="col-md-4">
            <img class="img-responsive" src="http://placehold.it/320x300">
          </div>
      </div>-->
      
    </div>
  </div>
  <!-- END OF DASHBOARD CONTENT -->
 
</div>
